<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- To Upgrade XML or View no need to restart odoo server -->
    <!-- Customize Tree View -->
    <!-- Tree View is list view in Odoo -->
    <record id="view_regis_user_tree" model="ir.ui.view">
        <!--Name convention: {model_name}.tree-->
        <!--Name convention: {model_name}.{model_category}-->
        <field name="name">regis.user.tree</field>
        <!-- For model: find it on models module -->
        <field name="model">regis.user</field>
        <field name="arch" type="xml">
            <tree>
                <field name="reference" string="UID"/> <!--Reference here is sequence of user create-->
                <field name="fullname" string="Name"/>
                <field name="age"/>
                <field name="gender"/>
                <field name="address"/>
                <field name="bio"/>
                <field name="partner_id" string="Partner"/> <!--This is many2one field (example)-->
                <field name="state" string="Status"/>
                <field name="create_date" string="Account Created"/>
            </tree>
        </field>
    </record>

    <!-- Kanban View -->
    <record id="view_regis_user_kanban" model="ir.ui.view">
        <field name="name">regis.user.kanban</field>
        <field name="model">regis.user</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="id"/> <!--ID is needed when create kanban view-->
                <field name="fullname" string="Name"/>
                <field name="age"/>
                <field name="gender"/>
                <field name="address"/>
                <field name="bio"/>
                <field name="reference" string="UID"/> <!--Reference here is sequence of user create-->
                <field name="partner_id" string="Partner"/> <!--This is many2one field (example)-->
                <field name="state" string="Status"/>
                <field name="create_date" string="Account Created"/>
                <!-- Need to add templates tag for kanban view, otherwise will be error -->
                <templates>
                    <t t-name="kanban-box">
                        <div t-attf-class="oe_kanban_global_click">
                            <div class="oe_kanban_details">
                                <ul>
                                    <li>
                                        <h1>
                                            UID:
                                            <field name="reference"/> <!--Reference here is sequence of user create-->
                                        </h1>
                                    </li>
                                    <li>
                                        Name:
                                        <field name="fullname"/>
                                    </li>
                                    <li>
                                        Age:
                                        <field name="age"/>
                                    </li>
                                    <li>
                                        Gender:
                                        <field name="gender"/>
                                    </li>
                                    <li>
                                        Status:
                                        <field name="state"/>
                                    </li>
                                    <li> <!--This is many2one field (example)-->
                                        Partner:
                                        <field name="partner_id"/>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- Form -->
    <record id="view_regis_user_form" model="ir.ui.view">
        <!--Name convention: {model_name}.form-->
        <field name="name">regis.user.form</field>
        <field name="model">regis.user</field>
        <field name="arch" type="xml">
            <!--Add status bar from here-->
            <form>
                <!--Add status bar after header here-->
                <header>
                    <!--Adding button to statusbar-->
                    <!--This is dynamic button on statusbar that corresponding
                    to action that will change state in statusbar-->
                    <!--If you specify type = object, odoo will search it on the corresponding model that you specify
                    For example, odoo will search name = action_confirm on regis.user model-->
                    <!--Specify state if you want to show only the button on another state scenario-->
                    <button name="action_confirm" type="object" string="Confirm" class="btn-primary"
                            id="button_confirm" states="draft,done,cancel"/>
                    <button name="action_done" type="object" string="Mark as Done" class="btn-success"
                            id="button_done" states="draft,confirm,cancel"/>
                    <button name="action_draft" type="object" string="Set as Draft" class="btn-warning"
                            id="button_draft" states="confirm,done,cancel"/>
                    <button name="action_cancel" type="object" string="Cancel" class="btn-danger"
                            id="button_cancel" states="confirm,done,draft"/>
                    <!--Need to specify statusbar as widget here, and if you want to create statusbar clickable,
                    you need to add options menu  and add clickable as true or 1
                    and if you want to show only some of statusbar state just add statusbar_visible-->
                    <!--                    <field name="state" widget="statusbar" options="{'clickable': '1'}"-->
                    <!--                           statusbar_visible="draft,confirm,done"/>-->
                    <!--If status bar not clickable (using button to communicate)-->
                    <field name="state" widget="statusbar" statusbar_visible="draft,confirm,done"/>
                </header>
                <!--Sheet: to make border in form-->
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="fullname_seq"/>
                        </h1>
                    </div>
                    <!--Group: to make label visible-->
                    <group>
                        <!--Group: to make grouping for each label-->
                        <group>
                            <field name="first_name"/>
                            <field name="last_name"/>
                            <field name="age"/>
                            <field name="gender"/>
                        </group>
                        <group>
                            <field name="address"/>
                        </group>
                        <group>
                            <field name="bio"/>
                        </group>
                        <!--This is many2one field (example)-->
                        <group>
                            <field name="partner_id" string="Partner"/>
                        </group>
                    </group>
                </sheet>
                <!--If you want to add chatter form, please search inside odoo debug mode for module that has chatter form-->
                <!--For example, I'm gonna adding it from sale.order view, and search for oe_chatter-->
                <!--Chatter Form-->
                <!--Chatter form located after sheet in form view-->
                <div class="oe_chatter">
                    <field name="message_follower_ids"/> <!--This is follower section on chatter-->
                    <field name="activity_ids"/> <!--This is activity, to create to do, appointments, etc., Need to inherit mail.activity.mixin in models-->
                    <field name="message_ids"/> <!--This is message section on chatter-->
                </div>
            </form>
        </field>
    </record>

    <!-- If you want to inherit view -->
    <!--    <record id="{inherited id}" model="ir.ui.view">-->
    <!--        <field name="name">{inherited names}</field>-->
    <!--        <field name="model">{inherited models}</field>-->
    <!--        <field name="inherit_id" ref="{search for "external id" on odoo module on view you want to inherit}"/>-->
    <!--        <field name="arch" type="xml">-->
    <!--&lt;!&ndash;            <xpath expr="//field[@name='group_ids']" position="after">&ndash;&gt; in odoo >= 14 use xpath instead of field -->
    <!--                <field name="subscription_department_ids" widget="many2many_tags"-->
    <!--                    string="Auto Subscribe Departments"/>-->
    <!--            </xpath>-->
    <!--        </field>-->
    <!--    </record>-->

    <!-- Search field in odoo >= 13 also known for ControlPanelView -->
    <record id="view_regis_user_search" model="ir.ui.view">
        <field name="name">regis.user.search</field>
        <field name="model">regis.user</field>
        <field name="arch" type="xml">
            <search string="Users">
                <field name="first_name"/>
                <field name="last_name"/>
                <field name="partner_id" string="Partner"/> <!--This is many2one field (example)-->
                <field name="address"/>
                <field name="bio"/>
                <field name="reference" string="UID"/> <!--Reference here is sequence of user create-->
                <!--This is for group by filter-->
                <filter string="Male" name="male" domain="[('gender', '=', 'male')]"/>
                <filter string="Female" name="female" domain="[('gender', '=', 'female')]"/>
                <separator/>
                <!--Added group by state (in statusbar)-->
                <filter string="Draft" name="draft" domain="[('state', '=', 'draft')]"/>
                <filter string="Confirm" name="confirm" domain="[('state', '=', 'confirm')]"/>
                <filter string="Done" name="done" domain="[('state', '=', 'done')]"/>
                <filter string="Cancel" name="cancel" domain="[('state', '=', 'cancel')]"/>
                <!--                <filter string="Child" name="child" domain="[('age', '<', '10')]"/>-->
                <!--                <filter string="Teenagers" name="teenagers" domain="[('age', '>=', '10'),('age', '<', '23')]"/>-->
                <!--                <filter string="Adult" name="adult" domain="[('age', '>=', '23'),('age', '<', '50')]"/>-->
                <!--                <filter string="Old" name="old" domain="[('age', '>', '50')]"/>-->
                <group expand="1" string="Group By">
                    <filter name="gender" string="Gender" context="{'group_by':'gender'}"/>
                    <filter name="address" string="Address" context="{'group_by':'address'}"/>
                    <filter name="age" string="Age" context="{'group_by':'age'}"/>
                    <!--Added group by state (in statusbar)-->
                    <filter name="state" string="Status" context="{'group_by':'state'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- User Action -->
    <record id="regis_user_action" model="ir.actions.act_window">

        <field name="name">Users Registration</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">regis.user</field>

        <!-- Default view mode is tree -->
        <field name="view_mode">tree,kanban,form</field>

        <!-- Set Default groupby in view, for example gender, so search_default will be {search_default_gender:1}
        or in general form: {search_default_{groupby field}:1}-->
        <!--        <field name="context">{'search_default_gender':1}</field>-->
        <!--This is example of how to add multiple groupby-->
        <!--Just add another search_default field in context to add more than 2-->
        <!--        <field name="context">{'search_default_gender':1,'search_default_state':1}</field>-->

        <!-- Set Default filter in view, for example I will filter "done", so search_default will
        be {search_default_done:1}
        or in general form: {search_default_{filter field}:1}-->
        <!--        <field name="context">{'search_default_done':1}</field>-->
        <!--This is example of how to add multiple filter-->
        <!--Just add another search_default field in context to add more than 2-->
        <field name="context">{'search_default_done':1,'search_default_confirm':1}</field>

        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create new users
            </p>
        </field>

    </record>

    <!-- This, how to add other action on odoo XML -->
    <!-- Partner Action -->
    <record id="regis_user_partner_action" model="ir.actions.act_window">

        <field name="name">Users Partners</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.partner</field>

        <!--To make kanban default view mode, rearrange it to first-->
        <!--This also applied for another view mode-->
        <!--from this (tree as default view): <field name="view_mode">tree,kanban,form</field>, to this: -->
        <field name="view_mode">kanban,tree,form</field>

        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create new users
            </p>
        </field>

    </record>

    <!--    <record id="regis_action2" model="ir.actions.act_window">-->
    <!--        <field name="name">Users 2 Registration</field>-->
    <!--        <field name="type">ir.actions.act_window</field>-->
    <!--        <field name="res_model">form.regist</field>-->
    <!--        <field name="view_mode">tree,kanban,form</field>-->
    <!--        <field name="help" type="html">-->
    <!--            <p class="o_view_nocontent_smiling_face">-->
    <!--                Create brand-new users-->
    <!--            </p>-->
    <!--        </field>-->
    <!--    </record>-->

    <!--    <record id="regis_action3" model="ir.actions.act_window">-->
    <!--        <field name="name">Other Users Registration</field>-->
    <!--        <field name="type">ir.actions.act_window</field>-->
    <!--        <field name="res_model">form.regist</field>-->
    <!--        <field name="view_mode">tree,kanban,form</field>-->
    <!--        <field name="help" type="html">-->
    <!--            <p class="o_view_nocontent_smiling_face">-->
    <!--                Create brand-new users-->
    <!--            </p>-->
    <!--        </field>-->
    <!--    </record>-->

    <!-- This is main menu items -->
    <!-- You can find it on upper left corner -->
    <!-- Sequence is used to order menu items -->
    <!-- Name is used to naming menu -->
    <!-- ID is used to create db regarding the view (Do not use same name as the module name, using prefix instead) -->
    <menuitem id="regis_root"
              name="Registration"
              sequence="1"/>

    <!-- This is menu items that inherits from main menu items -->
    <menuitem id="regis_user_root"
              name="Users"
              parent="regis_root"
              sequence="1"/>

    <!--    <menuitem id="regis_form_root2"-->
    <!--              name="Other"-->
    <!--              parent="regis_root"-->
    <!--              sequence="2"/>-->

    <!-- This is sub menu items that inherits from main menu item -->
    <!-- We need to link the action here, because if there is no action, the menu will not be shown -->
    <!-- User Menu -->
    <menuitem id="regis_form"
              name="Users"
              parent="regis_user_root"
              action="regis_user_action"
              sequence="1"/>

    <!-- User Partner Menu -->
    <!-- This, how to assign other action in odoo XML in existing views -->
    <menuitem id="regis_partner"
              name="Partner"
              parent="regis_user_root"
              action="regis_user_partner_action"
              sequence="2"/>

    <!--    <menuitem id="regis_form2"-->
    <!--              name="Other Users"-->
    <!--              parent="regis_form_root"-->
    <!--              action="regis_action2"-->
    <!--              sequence="2"/>-->

    <!--    <menuitem id="regis_form3"-->
    <!--              name="Users Test"-->
    <!--              parent="regis_form_root2"-->
    <!--              action="regis_action3"-->
    <!--              sequence="3"/>-->

</odoo>